#.bashrc
export EDITOR=nvim

if command -v nvim >/dev/null 2>&1; then
  alias vim='nvim'
  alias vi='nvim'
fi

# system bashrc
if [ -f /etc/bashrc ]; then
#    . /etc/bashrc
fi

# default bashrc
if [ -f $HOME/.bashrc_default ]; then
    . $HOME/.bashrc_default
fi
# local bashrc
if [ -f $HOME/.bashrc_local ]; then
    . $HOME/.bashrc_local
fi

# PATH
export PATH="/usr/local/bin:$PATH"
export PATH="$HOME/local/bin:$HOME/usr/local/bin:$PATH"

# General alias
alias diff="colordiff"
alias grep="grep --color"
alias ll="ls -lhAG"
alias vdiff="vimdiff"
alias resource="source $HOME/.bash_profile"
alias ssh="ssh -o ServerAliveInterval=60"

# Git
export GIT_HOME=$HOME/ghq/github.com/git/git
export PATH=$GIT_HOME/contrib/diff-highlight:$PATH

# Git alias
alias g="git"
alias ga="git add"
alias gap="git add -p"
alias gc="git commit"
alias gca="git commit --amend"
alias gcv="git commit -v"
alias gcva="git commit -v --amend"
alias gac="git add . && git commit -v"
alias gd="git diff"
alias gs="git status --branch --short"
alias gco="git checkout"
alias gbv="git branch --list -vv"
alias gpo="git push origin"
alias gpu="git push upstream"
# Git config
if [ -f $GIT_HOME/contrib/completion/git-completion.zsh ]
then
  fpath=($GIT_HOME/contrib/completion/git-completion.zsh $fpath)
fi

# Bundler aliases
alias be="bundle exec"
alias bi="bundle install"

# Docker aliases
alias dc="docker-compose"

# GHQ
alias r='cd $(ghq list -p | peco)'

# Other
export PATH=/opt/local/bin:/opt/local/sbin:$PATH
export MANPATH=/opt/local/man:$MANPATH

# Tool
le() {
  EE_TMPFILE=`mktemp`
  vim $EE_TMPFILE
  cat $EE_TMPFILE | pbcopy
  rm $EE_TMPFILE
  unset EE_TMPFILE
}

autoload -Uz compinit && compinit -i

bindkey -e

# binstub
export PATH=./bin:$PATH

eval $(/opt/homebrew/bin/brew shellenv)
